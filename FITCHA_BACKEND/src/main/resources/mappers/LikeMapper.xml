<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.fitcha.model.dao.LikeDao">
	<!-- ======== 챌린지 좋아요 ======== -->

	<!-- 좋아요 등록 -->
	<insert id="insertChallengeLike" parameterType="like">
		INSERT INTO challenge_like(board_id, writer)
		     VALUES (#{boardId},#{writer})
	</insert>
	
	<!-- 좋아요 취소 -->
	<delete id="deleteChallengeLike" parameterType="like">
		DELETE FROM challenge_like
	     WHERE board_id = #{boardId}
		   AND writer = #{writer}
	</delete>
	
	<!-- 좋아요 수  조회 -->
	<select id="selectChallengeLikeCount" parameterType="int" resultType="int">
		SELECT count(*)
	 	 FROM challenge_like
	    WHERE board_id = #{boardId}
	</select>
	
		<!-- 좋아요 여부  조회 -->
	<select id="selectUserChallengeLiked" parameterType="like" resultType="int">
		SELECT count(*)
		  FROM challenge_like
	     WHERE board_id = #{boardId}
		   AND writer = #{writer}  
	</select>
	
	
	
	<!-- ===========인증글 좋아요 ==================-->
	<!-- 인증글 좋아요 여부 조회 -->
	<select id="selectProofLike" parameterType="like" resultType="like">
		SELECT * 
	 	 FROM proof_like
	    WHERE proof_board_id = #{boardId}
		  AND writer = #{writer}
	</select>

	<!-- 좋아요 등록 -->
	<insert id="insertProofLike" parameterType="like">
		INSERT INTO proof_like(proof_board_id, writer)
		     VALUES (#{boardId},#{writer})
	</insert>
	
	<!-- 좋아요 취소 -->
	<delete id="deleteProofLike" parameterType="like">
		DELETE 
		  FROM proof_like
	     WHERE proof_board_id = #{boardId}
		   AND writer = #{writer}
	</delete>
	
	
		<!-- ============ 영상 좋아요=================== -->
	<!-- 좋아요 등록 -->
	<insert id="insertVideoLike" parameterType="like">
		INSERT INTO fittube_like(video_id, writer)
		     VALUES (#{videoId},#{writer})
	</insert>
	
	<!-- 좋아요 취소 -->
	<delete id="deleteVideoLike" parameterType="like">
		DELETE FROM fittube_like
	     WHERE video_id = #{videoId}
		   AND writer = #{writer}
	</delete>
	
	<!-- 좋아요 수  조회 -->
	<select id="selectVideoLikeCount" parameterType="java.lang.String" resultType="int">
		SELECT count(*)
	 	 FROM fittube_like
	    WHERE video_id = #{videoId}
		  
	</select>
	
	<!-- 좋아요 여부  조회 -->
	<select id="selectUserVideoLiked" parameterType="like" resultType="int">
		SELECT count(*)
		  FROM fittube_like
	     WHERE video_id = #{videoId}
		   AND writer = #{writer}  
	</select>
	
	
	
</mapper>